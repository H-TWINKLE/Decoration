#@_adminLayout() #define _adminMain()

<link href="#(base)/adminAssets/css/dropzone/basic.css" rel="stylesheet">

<link href="#(base)/adminAssets/css/dropzone/dropzone.css"
      rel="stylesheet">


<link href="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.11/summernote-lite.css" rel="stylesheet">

<!--<link href="#(base)/adminAssets/css/summernote-lite.css" rel="stylesheet">-->


<header class="page-header">
    <div class="container-fluid">
        <h2 class="no-margin-bottom">风格信息</h2>
    </div>
</header>

<!-- Breadcrumb-->
<div class="breadcrumb-holder container-fluid">
    <ul class="breadcrumb">
        <li class="breadcrumb-item"><a href="#(base)/admin">主页</a></li>
        <li class="breadcrumb-item active">风格信息</li>
    </ul>
</div>

<section class="forms">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-12">
                <div class="card">
                    <div class="card-header d-flex align-items-center">
                        <h3 class="h4">风格信息</h3>
                    </div>
                    <div class="card-body">
                        <form class="form-horizontal" method="post"
                              action="#(base)/a/fengge/update">

                            <input hidden="hidden" name="fengge.fengge_id"
                                   value="#(fengge.fengge_id??)">

                            <input hidden="hidden" name="fengge.fengge_pic" id="fengge_pic"
                                   value="#(fengge.fengge_pic??)">

                            <div class="form-group row">
                                <label class="col-sm-3 form-control-label">风格标题</label>
                                <div class="col-sm-9">
                                    <input type="text" value="#(fengge.fengge_title??)"
                                           name="fengge.fengge_title" class="form-control">
                                </div>
                            </div>
                            <div class="line"></div>

                            <div class="form-group row">
                                <label class="col-sm-3 form-control-label">风格简介</label>
                                <div class="col-sm-9">
                                    <input value="#(fengge.fengge_auto??)"
                                           name="fengge.fengge_auto" type="text" class="form-control">

                                </div>
                            </div>
                            <div class="line"></div>

                            <div class="form-group row">
                                <label class="col-sm-3 form-control-label">风格内容</label>
                                <div class="col-sm-9">

									<textarea id="summernote"
                                              name="fengge.fengge_content">#(fengge.fengge_content??)</textarea>
                                </div>
                            </div>
                            <div class="line"></div>

                            <div class="form-group row">
                                <label class="col-sm-3 form-control-label">风格热门</label>
                                <div class="col-sm-9">
                                    <input type="number" value="#(fengge.fengge_hot??)"
                                           name="fengge.fengge_hot" class="form-control">
                                    <p>默认热门程度是80<strong style="color: red;">&nbsp;大于或者等于100的前4条将按照风格热门顺序展示到首页</strong>
                                    </p>
                                </div>
                            </div>
                            <div class="line"></div>

                            <div class="form-group row">
                                <label class="col-sm-3 form-control-label">风格图片</label>
                                <div class="col-sm-9">

                                    <div style="display: inline;">

                                        <div id="dropz" class="dropzone-previews">上传图片</div>


                                        #for(li:fengge.listPic??)
                                        <img alt="" src="#('http'.contains(li??)?li??:base+li??)" style="width: 100px;">
                                        #end


                                    </div>


                                </div>
                            </div>
                            <div class="line"></div>

                            <div class="form-group row">
                                <div class="col-sm-4 offset-sm-3">
                                    <button type="submit" class="btn btn-primary">保存</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<script src="#(base)/adminAssets/js/dropzone/dropzone.js"></script>

<script>
    $(document).ready(
        function () {


            var my = $("#dropz").dropzone({

                url: "/upload",
                uploadMultiple: true,
                parallelUploads: 100,
                maxFiles: 100,
                success: function (file, response) {
                    /* Maybe display some more file information on your page */
                    // console.log('filex upload done...', response);


                    var v = $("#fengge_pic").val();

                    $("#fengge_pic").val(v + response)
                }

            })


            /* Dropzone.options.myAwesomeDropzone = {

                 autoProcessQueue: false,
                 uploadMultiple: true,
                 parallelUploads: 100,
                 maxFiles: 100,

                 // Dropzone settings
                 init: function () {

                     var myDropzone = this;

                     this.element.querySelector("button[type=submit]")
                         .addEventListener("click", function (e) {
                             e.preventDefault();
                             e.stopPropagation();
                             myDropzone.processQueue();
                         });
                     this.on("sendingmultiple", function () {
                     });
                     this.on("successmultiple", function (files, response) {
                     });
                     this.on("errormultiple", function (files, response) {
                     });
                 }

             }*/

        });
</script>

<script>
    $(document).ready(
        function () {

            $('#summernote').summernote();

        })
</script>

#end
